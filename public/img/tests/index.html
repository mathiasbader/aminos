<!DOCTYPE html>
<html lang="de">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width">
    <link href="../../css/main.css" rel="stylesheet"/>
    <title>Test tube test</title>
</head>
<body>

<div style="margin: 0 auto; max-width: 800px;">
    <svg id="unpolar_test1" xmlns="http://www.w3.org/2000/svg" viewBox="91 72 51 86" style="border: 1px solid #eee">
        <g id="polar">
            <path id="p-bg-white" class="cls-white" d="m126.13,95.95c-.06-.19-.1-.48-.1-.78v-18.1h-19.47v18.1c0,.3-.04.59-.12.88l-10,52.71c-.16.84.06,1.7.61,2.35s1.35,1.03,2.2,1.03h34.12c.85,0,1.66-.38,2.2-1.03s.77-1.52.61-2.35l-10.03-52.8Z"/>
            {% if score >= 4 %}
            <path id="p-fluid" class="cls-fluidPolar" d="
                m 126.13, 95.95
                c -.06 -.19 -.1 -.48 -.1 -.78
                v -10.11
                h -19.47
                v 10.11
                c 0, .3 -.04 .59 -.12 .88
                l -10, 52.8
                c -.16 .84 .06, 1.7 .61, 2.35
                s 1.35, 1.03, 2.2, 1.03
                h 34.12
                c .85, 0, 1.66 -.38, 2.2 -1.03
                s .77 -1.52 .61 -2.35
                l -10 -52.8
        Z"/>
            <path id="p-glas-black" class="cls-black" d="m138.12,148.38l-10.05-52.89c-.03-.1-.04-.21-.04-.31v-18.1h1.56c.55,0,1-.45,1-1s-.45-1-1-1h-26.6c-.55,0-1,.45-1,1s.45,1,1,1h1.56v18.1c0,.11-.01.21-.07.41l-10.03,52.8c-.27,1.43.1,2.88,1.03,4,.93,1.12,2.29,1.76,3.74,1.76h34.12c1.45,0,2.81-.64,3.74-1.76.93-1.12,1.3-2.58,1.03-4Zm-2.57,2.73c-.54.66-1.35,1.03-2.2,1.03h-34.12c-.85,0-1.66-.38-2.2-1.03s-.77-1.52-.61-2.35l10-52.71c.08-.28.12-.58.12-.88v-18.1h19.47v18.1c0,.3.04.59.1.78l10.03,52.8c.16.84-.06,1.7-.61,2.35Z"/>
            <path id="p-reflex" class="cls-reflex" d="m119.15,128.65c.55,0,1-.45,1-1v-28.07c0-.55-.45-1-1-1s-1,.45-1,1v28.07c0,.55.45,1,1,1Zm-1,13.94c0,.55.45,1,1,1s1-.45,1-1v-8.96c0-.55-.45-1-1-1s-1,.45-1,1v8.96Zm.61,2.49c-.12.05-.23.12-.32.21-.19.19-.29.45-.29.71s.1.52.29.71c.09.09.2.16.32.21.13.05.26.08.39.08.26,0,.52-.11.7-.29.19-.19.3-.45.3-.71s-.11-.52-.3-.71c-.27-.28-.72-.37-1.09-.21Zm4.43-54.1c-.02-.07-.09-.11-.16-.1l-3.15.38-.66-3.11c-.01-.07-.08-.12-.15-.12-.06-.01-.13.05-.15.12l-.61,3.12-3.16-.33c-.08,0-.14.04-.16.1-.02.07,0,.14.07.18l2.78,1.54-1.29,2.9c-.03.06,0,.14.05.18.03.02.06.03.09.03.04,0,.07-.01.1-.04l2.33-2.16,2.36,2.13c.05.05.13.05.19,0,.06-.04.08-.12.05-.18l-1.34-2.88,2.75-1.59c.06-.04.09-.11.07-.18Z"/>
            <path id="p-glas-grey" class="cls-glasGrey" d="m138.12,148.38l-10.05-52.89c-.03-.1-.04-.21-.04-.31v-18.1h1.56c.55,0,1-.45,1-1s-.45-1-1-1h-26.6c-.55,0-1,.45-1,1s.45,1,1,1h1.56v18.1c0,.11-.01.21-.07.41l-10.03,52.8c-.27,1.43.1,2.88,1.03,4,.93,1.12,2.29,1.76,3.74,1.76h34.12c1.45,0,2.81-.64,3.74-1.76.93-1.12,1.3-2.58,1.03-4Zm-2.57,2.73c-.54.66-1.35,1.03-2.2,1.03h-34.12c-.85,0-1.66-.38-2.2-1.03s-.77-1.52-.61-2.35l10-52.71c.08-.28.12-.58.12-.88v-18.1h19.47v18.1c0,.3.04.59.1.78l10.03,52.8c.16.84-.06,1.7-.61,2.35Z"/>
        </g>
    </svg>
</div>

<script type="text/javascript">
    function to(score) {
        if (score === gScore) return;

        let newScore = gScore;
        if (score < gScore) newScore--;
        else if (score > gScore) newScore++;
        fill(newScore);
        setTimeout(function() {
            to(score);
        }, 4)
    }

    function fill(score) {
        if (score < 0 || score > 100) return;

        gScore = score;
        let x = (100 - score) / 100 * 74.56;
        document.getElementById('u1-fluid').setAttribute('d',
        'm 56.77, ' + (x + 67.84) +
        'h -19.98' +
        'v ' + (74.56 - x) +
        'c 0, 5.51, 4.48, 9.99, 9.99, 9.99' +
        's 9.99-4.48, 9.99-9.99' +
        'v -' + (74.56 - x)
        );
    }
    let gScore = 100;
    fill(gScore);
</script>

</body>
</html>
